import { ArticleHeader } from "~/components/ArticleHeader"

export const metadata = {
	title: "Concurrencia en C++, explicada con ejemplos",
	description:
		"Un an치lisis detallado de c칩mo se maneja la concurrencia y sus varias formas en C++.",
	publishedOn: "July 20, 2024",
	lastModified: "July 20, 2024",
	emoji: "游빗",
}

<ArticleHeader title={metadata.title} date={metadata.publishedOn} />

Bienvenidos....

std::mutex:

Es como una puerta de ba침o con cerradura. Cuando alguien entra en el ba침o
(es decir, un hilo intenta acceder a un recurso protegido por el mutex), cierra la puerta tras de s칤.
Esto impide que otros hilos entren en el ba침o hasta que el ocupante actual termine sus asuntos y desbloquee la puerta.
Cuando un hilo termina de usar el recurso compartido, desbloquea el mutex, permitiendo a otros hilos acceder al recurso.
Sale del ba침o...

```cpp
#include <iostream>
#include <thread>
#include <mutex>

std::mutex mtx;

void bathroom(){
// One enters the bathroom, the other waits. Like 2 friends rushing towards a bathrrom
std::lock_guard<std::mutex> lock(mtx);
std::cout << "Using the bathroom" << std::endl;
// Doing things...
std::this_thread::sleep_for(std::chrono::seconds(2));
std::cout << "Leaving the bathroom" << std::endl;
// The other one can enter now
}

int main(){
std::thread t1(bathroom);
std::thread t2(bathroom);
t1.join();
t2.join();
return 0;
}
```

std::timed_mutex

Imagina otro ba침o. Pero en vez de esperar eternamente puedes esperar x tiempo antes de aburrirte y abandonar el lugar.
Cuando se acaba el temporizador y a칰n no has cerrado, abandonas la cola del ba침o y contin칰as tu vida,
ya no te importa ese ba침o (cerrar), s칩lo buscas otro, o te mueres si no hay nada m치s que hacer (literalmente).